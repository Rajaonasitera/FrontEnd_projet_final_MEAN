<div class="bg-background rounded-lg px-8 py-8 shadow-sm">
  <div class="mb-4 flex items-center justify-between">
    <div class="flex flex-col">
      <div class="flex items-center gap-2">
        <span class="text-foreground text-3xl font-semibold">
          {{ getTotalReservations() }}
        </span>
        <div *ngIf="filteredReservationData.length > 1" 
             class="flex items-center rounded-md bg-green-500/25 px-2 py-1 text-xs font-semibold text-green-500">
          <svg-icon src="assets/icons/heroicons/outline/arrow-sm-up.svg" [svgClass]="'h-4 w-4'"></svg-icon>
          {{ calculateGrowthRate() }}%
        </div>
      </div>
      <span class="text-muted-foreground text-sm">Total des réservations</span>
    </div>
    <div class="rounded-xs hover:bg-muted/50 cursor-pointer p-2 transition-colors">
      <svg-icon src="assets/icons/heroicons/outline/dots-horizontal.svg" [svgClass]="'h-4 w-4'"></svg-icon>
    </div>
  </div>

  <div class="mb-6 grid grid-cols-1 gap-4 sm:grid-cols-3">
    <div>
      <label for="year-filter" class="text-muted-foreground mb-1 block text-sm font-medium">Année</label>
      <select 
        id="year-filter" 
        [(ngModel)]="selectedYear" 
        (change)="filterData()"
        class="border-input bg-background ring-offset-background focus-visible:ring-ring w-full rounded-md border px-3 py-2 text-sm shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
      >
        <option value="all">Toutes les années</option>
        <option *ngFor="let year of years" [value]="year">{{ year }}</option>
      </select>
    </div>
    
    <div>
      <label for="month-filter" class="text-muted-foreground mb-1 block text-sm font-medium">Mois</label>
      <select 
        id="month-filter" 
        [(ngModel)]="selectedMonth" 
        (change)="filterData()"
        class="border-input bg-background ring-offset-background focus-visible:ring-ring w-full rounded-md border px-3 py-2 text-sm shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
      >
        <option value="all">Tous les mois</option>
        <option *ngFor="let month of months" [value]="month.value">{{ month.name }}</option>
      </select>
    </div>
    
    <div class="flex items-end">
      <button 
        (click)="resetFilters()"
        class="hover:bg-muted/90 border-input bg-background ring-offset-background focus-visible:ring-ring w-full rounded-md border px-3 py-2 text-sm font-medium shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"
      >
        Réinitialiser
      </button>
    </div>
  </div>

  <div class="h-[350px] w-full">
    <apx-chart
      [series]="chartOptions.series!"
      [chart]="chartOptions.chart!"
      [legend]="chartOptions.legend!"
      [dataLabels]="chartOptions.dataLabels!"
      [plotOptions]="chartOptions.plotOptions!"
      [fill]="chartOptions.fill!"
      [stroke]="chartOptions.stroke!"
      [xaxis]="chartOptions.xaxis!"
      [yaxis]="chartOptions.yaxis!"
      [states]="chartOptions.states!"
      [tooltip]="chartOptions.tooltip!"
      [colors]="chartOptions.colors!"
      [grid]="chartOptions.grid!"
      [title]="chartOptions.title!">
    </apx-chart>
  </div>
</div>